# Exercices 

## Exercice 1  

Rendez vous sur ce [site](https://bellard.org/jslinux/vm.html?url=alpine-x86.cfg&mem=192) pour avoir accés à un interpréteur de commande Linux en ligne.    

1. Listez les fichiers du répertoire courant 
2. Créer un dossier nommé `Mes_documents` puis déplacer vous dans ce dossier.
3. Aller sur le site [github.com/tortillard](https://github.com/tortillard/nsi/tree/main/premiere) et recréer l'arborescence du dossier `systeme_d_exploitation`. 
4. Il faut ajouter du texte à nos fichier `cours.md` et `exercices.md`. Pour cela on peut utiliser un éditeur de texte en ligne de commande. Il en existe plusieurs, ici nous utiliserons `nano`. Tapez `nano cours.md` pour entrez dans l'éditeur de texte en ligne de commande. Ecrivez quelques lignes de texte dans ce fichier. Enregistrez en tapant sur `ctrl + s` enfin fermez l'éditeur en cliquant sur `ctrl + x`.  
5. Lisez le contenu du fichier `cours.md`
6. Revenez dans le dossier personnel précédent nommé `~`. 
7. Lisez le contenu du fichier `readme.txt` 
8. Effectuez la compilation du fichier `hello.c` comme expliqué dans le fichier `readme.txt`
9. Affichez le contenu du fichier `hello.c`.
10. Exécutez le fichier `hello.js` comme expliqué dans le fichier `readme.txt`
11. Affichez le contenu du fichier `hello.js`.
12. Exécutez le fichier `bench.py` comme expliqué dans le fichier `readme.txt`
13. Affichez le contenu du fichier `bench.py`.


## Exercice 2  
En 2011, des étudiant-e-s du MIT ont eu l’idée de passer par le jeu vidéo pour apprendre à utiliser les ligne de commande GNU/Linux aux débutants. Trois ans plus tard, il sorte un jeu open source nommée Terminus. Ce jeu met en scène l'utilisateur dans un escape game par lequel le joueur doit résoudre des énigmes et découvrir l'univers du jeu à travers des lignes de commande.   
Cela à motivé des francophones à produire une version de test en français du jeu disponible [ici](
https://luffah.xyz/bidules/Terminus/).    

1. Jouer à la version française de Terminus  
2. La version originale du jeu en anglais est disponible [là](https://www.mprat.org/Terminus/) pour les bilingues (les non bilingues peuvent ouvrir un onglet avec google traduction)

## Exercice 3  
Décrivez l'effet de chacune des lignes de commandes suivantes.  

```bash
tortillard@tortillard-HP-EliteBook-840-G3:~$ cd ~
tortillard@tortillard-HP-EliteBook-840-G3:~$ mkdir sandbox
tortillard@tortillard-HP-EliteBook-840-G3:~$ cd sandbox/
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ mkdir nsi
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ cd nsi 
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox/nsi$ touch TP_shell.txt
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox/nsi$ chmod ugo=rw-rw-rw- TP_shell.txt 
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox/nsi$ cd ..
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ mkdir maths
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ mkdir maths/premiere
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ touch maths/TP_proba
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ ls maths
```

## Exercice 4  
Dessiner l'arborescence du répertoire ~/test après l'exécution dans l'ordre de la séquence de commandes ci-dessous

```bash
tortillard@tortillard-HP-EliteBook-840-G3:~$ mkdir sandbox
tortillard@tortillard-HP-EliteBook-840-G3:~$ cd sandbox/
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ mkdir a b c d
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ touch a/t.txt d/foo.txt
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ cd c
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox/c$ mkdir ../b/e f g
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox/c$ cd ..
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ 
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ cp */*.txt c/g
tortillard@tortillard-HP-EliteBook-840-G3:~/sandbox$ rm -rf d
```

## Exercice 5  

![graphe europe](img/graphe_europe.png)

On se place dans le répertoire personnel de l'utilisateur représenté par le raccourci ~.

1. Dans son répertoire personnel, créer le répertoire `TP-SHELL` puis entrer dans ce répertoire.
2. Créer le répertoire `Europe` et changer de répertoire courant pour `Europe`.
3. Écrire une suite de commandes qui permet de construire l'arborescence ci-dessus sans quitter le répertoire `Europe`. Les fichiers apparaissant avec des rectangles sont des répertoires et les autres sont des fichiers.
4. Créer dans `~` une copie de tout le répertoire `Europe` avec ses sous-répertoires et nommer cette copie `Vieille-Europe`. Les modifications qui suivent devront être faites dans `Europe`.
5. Appliquons le traité de Francfort de 1871. Se placer dans le répertoire `Prusse` et déplacer `Belfort` dans `France` puis déplacer `Alsace` dans `Prusse`. Revenir dans `Europe` et renommer `Prusse` en `Allemagne`.
6. Depuis `Europe`, afficher le contenu de `Bordeaux` puis détruire ce fichier.
7. Appliquons le traité de Versailles de 1919. Depuis `France`, ramener `Alsace` en `France` puis détruire `Vieille-Europe`.



## Exercice 6  

Allez sur le terminal de commande linux disponible en ligne [ici](https://bellard.org/jslinux/vm.html?url=alpine-x86.cfg&mem=192).  

1. Créer un fichier `calculatrice.py`   
2. Constatez les droits disponible (et surtout non dispoible) sur votre fichier `calculatrice.py` en tapant la commande `ls -l`. Vous devriez voir apparaitre une ligne constitué de `-`, `r` et `w`. Le premier `-` indique que `calculatrice.py` est un fichier (et non un dossier).
3. Utilisez l'éditeur nano pour modifier votre fichier `calculatrice.py`. Pour cela tapez `nano calculatrice.py`.  
4. Dans votre fichier, écrivez une fonction `addition(a, b)` qui renvoi l'addition des nombres `a` et `b`.  
5. Ajoutez à la fin de votre fichier en dehors de votre fonction, un appel à `addition` par exemple `addition(4,7)`
6. `ctrl + s` pour sauvegarder, puis `ctrl+x` pour quittez `nano`
7. Retirez les droits de lecture et d'écriture du fichier `calculatrice.py` pour l'utilisateur à l'aide de la commande `chmod`. Vérifiez que les droits sont bien enlevés avec `ls -l`. 
8. Vous venez de retirer les droits de lecture et d'écriture de ce fichier. Pourtant si on tape `cat calculatrice.py` on peut lire le fichier, de même si on tape `nano calculatrice.py` on peut toujours écrire dans le fichier. Il existe une sorte de _sécurité_ dans le système d'exploitation qui vous permet de garder les droits d'écriture et de lecture d'un fichier même si vous avez enlevez ces droits car __VOUS__ en êtes le propriétaire. Ce n'est pas le cas pour le droit d'__exécution__. Nous allons le constatez tout de suite.  
9. Nous allons rendre notre fichier `calculatrice.py` exécutable. Pour cela il faut ajouter une ligne tout en haut de notre fichier, voici la ligne à ajouter `#! /usr/bin/python3`, il faut la recopier à la main sans fautes de frappes ou d'espaces ! `ctrl + s`, puis `ctrl+x` !
10. Nous venons de rendre exécutable notre fichier, pour exécutez un fichier il suffit de taper `./` suivi du nom du fichier. Ici il faut taper `./calculatrice.py`
11. Une erreur apparait, corrigez la afin de pouvoir exécutez votre fichier. 
